# Template for spark-env.sh

SPARK_MASTER_HOST={{ spark_data.server[0].instance.ip_priv1 }}
SPARK_MASTER_WEBUI_PORT=8480
SPARK_MASTER_OPTS="$SPARK_MASTER_OPTS -Dspark.ui.host={{ spark_data.server[0].instance.ip_priv1 }}"
SPARK_WORKER_CORES={{ ansible_processor_vcpus }}
SPARK_WORKER_MEMORY={{ ansible_memtotal_mb }}m
SPARK_WORKER_INSTANCES=1

# Bind Spark UI to private IP
SPARK_UI_HOST={{ spark_data.server[0].instance.ip_priv1 }}

SPARK_PUBLIC_DNS={{ _domain }}